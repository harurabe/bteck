<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>Assignment 1-4</title>
</head>
<body>
	<script>

	// ------------------------ ここから関数定義 ------------------------------------
	// タスク一覧を表示する関数
	function display(){
		console.log("==========================");
		console.log("現在持っているタスク一覧");
		console.log("==========================");
		Object.keys(myTasks).forEach(function(value, index) {
		//	console.log(index +"：[内容]" + myTasks[value].task + "[ジャンル]" + myTasks[value].category);
			console.log(`${index}：[内容] ${myTasks[value].task}、[ジャンル] ${myTasks[value].category}`);
		});
	}

	//タスクの追加または削除処理をする関数
	function taskmanager (inputOrder, inputTask, inputCategory) {
	
		if (inputOrder === "追加") {
			id++;
			let newObjectName = "task_" + id;
			myTasks[newObjectName] = {category: inputCategory, task: inputTask};
		}

		if (inputOrder === "削除"){
			Object.keys(myTasks).forEach(function(value, index) {
				if (myTasks[value].task === inputTask && myTasks[value].category === inputCategory) {
					delete myTasks[value];
				}
			});
		}
		display();
	}

	// ------------------------ ここから初期変数等の定義 ------------------------------------
	//初期タスクリスト
	const list_of_orders = ["確認", "追加", "削除", "終了"]; 
	const myTasks = {
		task_1: {
			category: "掃除",
			task: "机を片付ける"
		},
		task_2: {
			category: "買い物",
			task: "牛乳を買う"
		},
		task_3: {
			category: "運動",
			task: "散歩する"
		}
	}
	let id = 3; // オブジェクト名称の"task_番号"の番号部分を表す変数
	
	// ------------------------ ここから処理 ------------------------------------

	//初期タスク一覧を表示する
	display();

	while(true) {
		let inputOrder = prompt("「確認、追加、削除、終了」のいずれかを入力してください。")

		if (inputOrder === "確認") {
			display();
		}
		else if (inputOrder === "終了") {
			break;
		}
		else if (inputOrder === "追加" || inputOrder === "削除") {
			let inputTask = prompt("タスクを入力してください");
			let inputCategory = prompt("ジャンルを入力してください");
			taskmanager(inputOrder, inputTask, inputCategory);
		}
		else {
			alert("指示が分かりません。選択肢の中からいずれかを入力してください。");
		}
	}

	</script>
</body>
</html>